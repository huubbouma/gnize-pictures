{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Admin.vue?f0d9","webpack:///./src/assets/video-icon.png","webpack:///./src/services/MediaService.js","webpack:///./src/store.js","webpack:///./src/views/Main.vue","webpack:///./src/components/FolderNavigator.vue","webpack:///./src/components/Gallery.vue","webpack:///./src/components/Overlay.vue","webpack:///./src/components/DeleteItem.vue","webpack:///./src/components/DeleteItem.vue?3302","webpack:///./src/components/NefItem.vue","webpack:///./src/components/NefItem.vue?37b1","webpack:///./src/components/Overlay.vue?c2c9","webpack:///./src/components/Gallery.vue?4587","webpack:///./src/components/FolderNavigator.vue?60f3","webpack:///./src/views/Main.vue?61a7","webpack:///./src/views/Admin.vue","webpack:///./src/views/Admin.vue?9254","webpack:///./src/views/Login.vue","webpack:///./src/components/LoginComponent.vue","webpack:///./src/components/LoginComponent.vue?a035","webpack:///./src/views/Login.vue?e63b","webpack:///./src/router.js","webpack:///./src/App.vue","webpack:///./src/App.vue?dfb6","webpack:///./src/registerServiceWorker.js","webpack:///./src/main.js","webpack:///./src/components/Overlay.vue?a4bf","webpack:///./src/views/Main.vue?30d7","webpack:///./src/App.vue?3c0f","webpack:///./src/components/DeleteItem.vue?adb0","webpack:///./src/components/Gallery.vue?aaa0","webpack:///./src/components/FolderNavigator.vue?92bb","webpack:///./src/components/NefItem.vue?f42c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","MediaService","this","instance","email","password","formData","url","process","axios","post","item","path","decodeURI","action","mtype","type","store","createStore","state","version","user","token","status","storeLoaded","currentItem","showFileOperations","showVideos","showPictures","itemsToDelete","nefItemsToDelete","mutations","AUTH_REQUEST","changeState","AUTH_SUCCESS","AUTH_ERROR","AUTH_LOGOUT","SET_TOKEN","SET_USER","setStoreLoaded","payload","resetState","replaceState","assign","setCurrentItem","setShowFileOperations","addItemToDelete","removeItemToDelete","clearItemsToDelete","addNefItemToDelete","removeNefItemToDelete","clearNefItemsToDelete","setShowVideos","setShowPictures","actions","initialiseStore","context","Promise","resolve","getters","localStorage","getItem","storedObj","JSON","parse","commit","defaults","headers","common","Authorization","dispatch","AUTH_VERIFY","reject","verify","then","err","response","formdata","login","REMOVE_ITEMS","throttledDelete","throttle","delete","todo","values","getItemsToDelete","all","forEach","catch","error","isLoggedIn","isAdmin","access","authStatus","isAuthenticated","userId","role","getNefItemsToDelete","getShowVideos","getShowPictures","subscribe","mutation","itemsToStore","setItem","stringify","class","fixedPath","itemId","visible","sideBarVisible","position","title","content","includes","label","icon","iconPos","go","home","model","breadcrumItems","loading","listing","folders","folder","id","to","getPath","media","index","ref","appear","showInOverlay","src","thumb","loadedImages","hasThumb","keyHandler","showOverlay","closeOverlay","showPrevious","showNext","threshold","controls","autoplay","style","closeLightbox","tabindex","sources","previous","next","deleteItem","onIcon","offIcon","props","required","Boolean","computed","set","$store","methods","handleKeydown","event","keyCode","watch","mounted","document","addEventListener","unmounted","removeEventListener","render","__scopeId","nef","components","DeleteItem","NefItem","emits","startTouch","$emit","fixRoute","folderUri","newPath","encodeURIComponent","history","pushState","handleTouchStart","touches","clientX","handleTouchEnd","offset","end","changedTouches","video","$refs","load","mediaUrl","mediaType","contentItem","console","log","castSession","cast","framework","CastContext","getInstance","getCurrentSession","mediaInfo","chrome","MediaInfo","request","LoadRequest","credentials","loadMedia","errorCode","body","classList","add","lightbox","handleSwipe","remove","Overlay","Array","String","currentIndex","lastItemSelected","newValue","element","setTimeout","scrollIntoView","loadImage","$router","videoIcon","Gallery","map","it","decodedItem","decodeURIComponent","getListing","filePath","join","$http","$toast","severity","summary","detail","message","hist","items","cleanPath","filter","folderPath","encodedId","ext","caption","width","height","created","decodedItemId","FolderNavigator","breadcrumbs","onLabel","offLabel","hasItemsToDelete","removeSelected","clearSelection","getItemsByFolder","sub","hasNefItemsToDelete","removeSelectedNef","clearNefSelection","getNefItemsByFolder","keys","alert","for","logout","subtitle","novalidate","formSubmit","placeholder","disabled","sending","autocomplete","form","isFieldValid","$v","$invalid","errors","showSnackbar","snackbarMsg","loginFailed","validations","fieldName","field","$dirty","clearForm","$reset","$touch","loginUser","nextUrl","LoginComponent","popStateDetected","routes","component","Main","meta","requiresAuth","Login","Admin","requiresAccess","router","createRouter","createWebHistory","beforeEach","from","IsItABackButton","replace","fullPath","split","matched","record","some","correctAccess","params","rootPath","castScript","createElement","setAttribute","head","appendChild","__onGCastApiAvailable","isAvailable","initializeCastApi","interceptors","use","undefined","config","__isRetryRequest","ctx","setOptions","receiverApplicationId","autoJoinPolicy","AutoJoinPolicy","ORIGIN_SCOPED","btn","greet","text","register","ready","registered","cached","updatefound","updated","offline","app","createApp","App","VueAxios","PrimeVue","ToastService","VuelidatePlugin","Toast","InputText","Button","Breadcrumb","InputSwitch","ProgressSpinner","Chip","Card","ToggleButton","ScrollTop","Sidebar","directive","beforeUpdate","el","binding","complete","mount"],"mappings":"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","file":"js/app.8f70d9f1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Admin.vue?vue&type=style&index=0&id=1271f68a&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/video-icon.d2d411ce.png\";","import axios from 'axios';\n\nexport default class MediaService {\n  // singleton service class\n\n  static instance;\n\n  constructor() {\n    if (this.instance) {\n      return this.instance;\n    }\n    this.instance = this;\n  }\n\n  static login(email, password) {\n    const formData = { email, password };\n    const url = `${process.env.VUE_APP_MEDIASERVER_URL}/auth/login/`;\n    return axios.post(url, formData);\n  }\n\n  static verify() {\n    const url = `${process.env.VUE_APP_MEDIASERVER_URL}/auth/verify/`;\n    return axios.post(url);\n  }\n\n  static delete(item) {\n    const formData = {\n      path: decodeURI(item.path),\n      action: 'delete',\n    };\n    const mtype = item.type === 'image' ? 'image' : 'movie';\n    const url = `${process.env.VUE_APP_MEDIASERVER_URL}/media/${mtype}/`;\n    return axios.post(url, formData);\n  }\n}\n","import axios from 'axios';\nimport { createStore } from 'vuex';\nimport throttle from 'lodash.throttle';\nimport MediaService from './services/MediaService';\n\nconst store = createStore({\n  state: {\n    version: 1.0,\n    user: null,\n    token: '',\n    status: '',\n    storeLoaded: false,\n    currentItem: null,\n    showFileOperations: false,\n    showVideos: true,\n    showPictures: true,\n    itemsToDelete: {}, // should be a Set() ?\n    nefItemsToDelete: {}, // should be a Set() ?\n  },\n\n  mutations: {\n    AUTH_REQUEST: state => {\n      const changeState = state;\n      changeState.status = 'loading';\n    },\n    AUTH_SUCCESS: (state, token) => {\n      const changeState = state;\n      changeState.status = 'success';\n      changeState.token = token;\n    },\n    AUTH_ERROR: state => {\n      const changeState = state;\n      changeState.status = 'error';\n      changeState.token = '';\n    },\n    AUTH_LOGOUT: state => {\n      const changeState = state;\n      changeState.status = '';\n      changeState.token = null;\n      changeState.user = null;\n    },\n    SET_TOKEN: (state, token) => {\n      const changeState = state;\n      changeState.token = token;\n    },\n    SET_USER: (state, user) => {\n      const changeState = state;\n      changeState.user = user;\n    },\n\n    setStoreLoaded(state, payload) {\n      const changeState = state;\n      changeState.storeLoaded = payload;\n    },\n    resetState(state, payload) {\n      this.replaceState(Object.assign(state, payload));\n    },\n    setCurrentItem(state, payload) {\n      state.currentItem = payload;\n    },\n    setShowFileOperations(state, payload) {\n      state.showFileOperations = payload;\n    },\n\n    addItemToDelete(state, item) {\n      const key = item.path;\n      state.itemsToDelete[key] = item;\n    },\n    removeItemToDelete(state, item) {\n      const key = item.path;\n      delete state.itemsToDelete[key];\n    },\n    clearItemsToDelete(state) {\n      state.itemsToDelete = {};\n    },\n\n    addNefItemToDelete(state, item) {\n      const key = item.path;\n      state.nefItemsToDelete[key] = item;\n    },\n    removeNefItemToDelete(state, item) {\n      const key = item.path;\n      delete state.nefItemsToDelete[key];\n    },\n    clearNefItemsToDelete(state) {\n      state.nefItemsToDelete = {};\n    },\n    setShowVideos(state, payload) {\n      state.showVideos = payload;\n    },\n    setShowPictures(state, payload) {\n      state.showPictures = payload;\n    },\n  },\n\n  actions: {\n    initialiseStore(context) {\n      return new Promise(resolve => {\n        if (context.getters.storeLoaded) {\n          resolve();\n        }\n\n        // this method is called from the Vue initialization\n        // Check if the store exists\n        if (localStorage.getItem('store')) {\n          const storedObj = JSON.parse(localStorage.getItem('store'));\n          // Check the version stored against current. If different, don't\n          // load the cached version\n          if (storedObj.version === context.state.version) {\n            context.commit('resetState', storedObj);\n            if (context.state.token) {\n              axios.defaults.headers.common.Authorization = `${context.state.token}`;\n              context.dispatch('AUTH_VERIFY');\n            }\n          }\n        }\n        context.commit('setStoreLoaded', true);\n        resolve();\n      });\n    },\n\n    AUTH_VERIFY({ commit }) {\n      return new Promise((resolve, reject) => {\n        MediaService.verify().then(\n          () => {\n            resolve();\n          },\n          err => {\n            if (err.response.status === 401) {\n              // wrong login, so clear the existing user data\n              commit('AUTH_ERROR', err);\n              commit('SET_TOKEN', null);\n              commit('SET_USER', null);\n            }\n            reject(err);\n          },\n        );\n      });\n    },\n\n    AUTH_REQUEST({ dispatch, commit }, formdata) {\n      const { email, password } = formdata;\n      return new Promise((resolve, reject) => {\n        commit('AUTH_REQUEST');\n        MediaService.login(email, password).then(\n          response => {\n            commit('SET_TOKEN', response.data.user.token);\n            commit('SET_USER', response.data.user);\n            axios.defaults.headers.common.Authorization = `${response.data.user.token}`;\n            dispatch('AUTH_VERIFY');\n          },\n          err => {\n            if (err.response.status === 401) {\n              // wrong login, so clear the existing user data\n              commit('AUTH_ERROR', err);\n              commit('SET_TOKEN', null);\n              commit('SET_USER', null);\n            }\n            reject(err);\n          },\n        );\n      });\n    },\n\n    AUTH_LOGOUT({ commit }) {\n      return new Promise(resolve => {\n        commit('AUTH_LOGOUT');\n        commit('SET_TOKEN', null);\n        commit('SET_USER', null);\n\n        delete axios.defaults.headers.common.Authorization;\n        resolve();\n      });\n    },\n\n    REMOVE_ITEMS({ commit, getters }) {\n      const throttledDelete = throttle(MediaService.delete, 5000);\n      return new Promise((resolve, reject) => {\n        const todo = Object.values(getters.getItemsToDelete);\n        const all = [];\n        todo.forEach(item => {\n          all.push(\n            throttledDelete(item).then(() => {\n              commit('removeItemToDelete', item);\n            }),\n          );\n        });\n        Promise.all(all)\n          .then(() => {\n            resolve();\n          })\n          .catch(error => {\n            reject(error);\n          });\n      });\n    },\n  },\n\n  getters: {\n    // isLoggedIn: state => !!state.user,\n\n    isLoggedIn(state) {\n      return !!state.user;\n    },\n\n    isAdmin: state => state.user && state.user.access === 'admin',\n    authStatus: state => state.status,\n\n    storeLoaded(state) {\n      return state.storeLoaded;\n    },\n    isAuthenticated(state) {\n      return !!state.token;\n    },\n    email(state) {\n      if (state.user) {\n        return state.user.email;\n      }\n      return null;\n    },\n    userId(state) {\n      if (state.user) {\n        return state.user.email;\n      }\n      return null;\n    },\n    user(state) {\n      if (state.user) {\n        return state.user;\n      }\n      return null;\n    },\n    role(state) {\n      if (state.user) {\n        return state.user.access;\n      }\n      return null;\n    },\n    currentItem(state) {\n      return state.currentItem;\n    },\n    showFileOperations(state) {\n      return state.showFileOperations;\n    },\n    getItemsToDelete(state) {\n      return state.itemsToDelete;\n    },\n    getNefItemsToDelete(state) {\n      return state.nefItemsToDelete;\n    },\n    getShowVideos(state) {\n      return state.showVideos;\n    },\n    getShowPictures(state) {\n      return state.showPictures;\n    },\n  },\n});\n\nstore.subscribe((mutation, state) => {\n  const itemsToStore = {\n    version: state.version,\n    user: state.user,\n    token: state.token,\n    status: state.status,\n    showFileOperations: state.showFileOperations,\n    showVideos: state.showVideos,\n    showPictures: state.showPictures,\n    itemsToDelete: state.itemsToDelete,\n    nefItemsToDelete: state.nefItemsToDelete,\n  };\n\n  localStorage.setItem('store', JSON.stringify(itemsToStore));\n});\n\nexport default store;\n","<template>\n  <div>\n    <FolderNavigator :path=\"fixedPath\" :itemId=\"itemId\" />\n\n    <Sidebar v-model:visible=\"sideBarVisible\" position=\"right\">\n      <Card>\n        <template #title>Menu</template>\n        <template #content>\n          <div class=\"p-mt-4\" v-if=\"role.includes('admin')\">\n            <Button label=\"Admin\" icon=\"pi pi-cog\" iconPos=\"left\" @click=\"go('admin')\" />\n          </div>\n          <div class=\"p-mt-4\">\n            <Button label=\"Logout\" icon=\"pi pi-times\" iconPos=\"left\" @click=\"go('logout')\" />\n          </div>\n        </template>\n      </Card>\n    </Sidebar>\n\n    <Button\n      icon=\"pi pi-cog\"\n      class=\"p-button-rounded p-button-info p-button-text settings-button\"\n      @click=\"sideBarVisible = true\"\n    />\n  </div>\n</template>\n\n<script>\nimport FolderNavigator from '@/components/FolderNavigator.vue';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Main',\n\n  components: { FolderNavigator },\n  props: {\n    path: {\n      required: false,\n      type: [Array, String],\n    },\n    itemId: {\n      required: false,\n      type: String,\n    },\n  },\n  data() {\n    return {\n      sideBarVisible: false,\n    };\n  },\n  methods: {\n    go(to) {\n      this.sideBarVisible = false;\n\n      switch (to) {\n        case 'admin':\n          this.$router.push({ name: 'Admin' });\n          break;\n        case 'logout':\n          this.$router.push({ name: 'Login' });\n          break;\n\n        default:\n          break;\n      }\n    },\n  },\n\n  computed: {\n    ...mapGetters(['role']),\n\n    fixedPath() {\n      return this.path || [];\n    },\n  },\n  watch: {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.settings-button {\n  position: absolute;\n  right: 0.5em;\n  top: 0.5em;\n}\n</style>","<template>\n  <div class=\"wrapper\">\n    <Breadcrumb :home=\"home\" :model=\"breadcrumItems\" />\n\n    <ProgressSpinner v-if=\"loading\" />\n\n    <div class=\"listing\" v-if=\"listing\">\n      <ul>\n        <li v-for=\"folder in listing.folders\" :key=\"folder.id\">\n          <router-link :to=\"{ name: 'Main', params: { path: getPath(folder.id) } }\">\n            <Chip :label=\"folder.name\" />\n          </router-link>\n        </li>\n      </ul>\n\n      <div class=\"filter\" v-if=\"listing.media && listing.media.length > 0\">\n        <div class=\"filteritem\">\n          <label>Toon Foto's</label>\n          <InputSwitch v-model=\"showPictures\" />\n        </div>\n        <div class=\"filteritem\">\n          <label>Toon Filmpjes</label>\n          <InputSwitch v-model=\"showVideos\" />\n        </div>\n      </div>\n\n      <Gallery :media=\"media\" :itemId=\"itemId\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport Gallery from './Gallery.vue';\n\nconst videoIcon = require('@/assets/video-icon.png');\n\nexport default {\n  name: 'FolderNavigator',\n  props: {\n    path: {\n      required: true,\n      type: Array,\n    },\n    itemId: {\n      required: false,\n      type: String,\n    },\n  },\n\n  data() {\n    return {\n      home: { icon: 'pi pi-home', to: '/' },\n      listing: {},\n      // showPictures: true,\n      // showVideos: true,\n      loading: true,\n      error: false,\n    };\n  },\n  components: { Gallery },\n  methods: {\n    getPath(item) {\n      const newPath = this.path.map((it) => {\n        const decodedItem = decodeURIComponent(decodeURIComponent(it));\n        return decodedItem;\n      });\n\n      newPath.push(decodeURIComponent(item));\n      return newPath;\n    },\n    getListing() {\n      this.loading = true;\n      const filePath = encodeURIComponent(this.path.join('/'));\n\n      return this.$http\n        .get(`${process.env.VUE_APP_MEDIASERVER_URL}/folder/list/?path=${filePath}`)\n        .then(\n          (response) => {\n            this.listing = response.data;\n            this.loading = false;\n            this.error = false;\n          },\n          (err) => {\n            this.error = true;\n            this.loading = false;\n\n            this.$toast.add({\n              severity: 'warn',\n              summary: 'Error loading listing',\n              detail: err.message,\n            });\n          },\n        );\n    },\n  },\n  computed: {\n    ...mapGetters(['currentItem', 'getShowPictures', 'getShowVideos']),\n\n    showVideos: {\n      get() {\n        return this.getShowVideos;\n      },\n      set(value) {\n        this.$store.commit('setShowVideos', value);\n        if (!value && !this.getShowPictures) {\n          this.showPictures = true;\n        }\n      },\n    },\n    showPictures: {\n      get() {\n        return this.getShowPictures;\n      },\n      set(value) {\n        this.$store.commit('setShowPictures', value);\n        if (!value && !this.getShowVideos) {\n          this.showVideos = true;\n        }\n      },\n    },\n    breadcrumItems() {\n      const hist = [];\n      const items = this.path.map((item) => {\n        const decodedItem = decodeURIComponent(decodeURIComponent(item));\n        hist.push(encodeURIComponent(decodedItem));\n        return {\n          label: decodeURIComponent(item),\n          to: `/${hist.join('/')}`,\n        };\n      });\n      return items;\n    },\n\n    media() {\n      let result = [];\n\n      const cleanPath = this.path.map((item) => {\n        const decodedItem = decodeURIComponent(decodeURIComponent(item));\n        return encodeURIComponent(decodedItem);\n      });\n\n      if (this.listing.media) {\n        result = this.listing.media\n          .filter((item) => {\n            if (item.type === 'image' && this.showPictures) {\n              return true;\n            }\n            if (item.type === 'movie' && this.showVideos) {\n              return true;\n            }\n            return false;\n          })\n          .map((item) => {\n            const folderPath = cleanPath.join('/');\n\n            let props = null;\n            if (item.type === 'movie') {\n              props = {\n                type: 'video',\n                id: item.id,\n                encodedId: encodeURIComponent(item.id),\n                folderPath: this.path,\n                folderUri: folderPath,\n                path: `${folderPath}/${encodeURIComponent(item.id)}`,\n                sources: [\n                  {\n                    src: `${\n                      process.env.VUE_APP_MEDIASERVER_URL\n                    }/media/movie/?path=${folderPath}/${encodeURIComponent(item.id)}&movie_type=${\n                      item.ext\n                    }`,\n                    type: `video/${item.ext}`,\n                  },\n                ],\n                hasThumb: item.thumb,\n                thumb: item.thumb\n                  ? `${\n                      process.env.VUE_APP_MEDIASERVER_URL\n                    }/media/movie/?path=${folderPath}/${encodeURIComponent(item.thumb)}&thumb=true`\n                  : videoIcon,\n                caption: item.name,\n                width: 800, // Required\n                height: 600, // Required\n                autoplay: true, // Optional: Autoplay video when the lightbox opens\n              };\n            }\n            if (item.type === 'image') {\n              props = {\n                id: item.id,\n                folderPath: this.path,\n                folderUri: folderPath,\n                path: `${folderPath}/${encodeURIComponent(item.id)}`,\n                type: 'image',\n                nef: item.nef,\n                src: `${\n                  process.env.VUE_APP_MEDIASERVER_URL\n                }/media/image/?path=${folderPath}/${encodeURIComponent(item.id)}&size=web`,\n                thumb: `${\n                  process.env.VUE_APP_MEDIASERVER_URL\n                }/media/image/?path=${folderPath}/${encodeURIComponent(item.id)}&size=thumbnail`,\n                caption: item.name,\n              };\n            }\n            return props;\n          });\n      }\n      return result;\n    },\n  },\n  created() {\n    // window.history.pushState({}, null, \"/\");\n\n    if (this.itemId) {\n      const decodedItemId = decodeURIComponent(this.itemId);\n      this.getListing().then(() => {\n        // if an itemId is passed, then load it now\n        this.media.forEach((item) => {\n          if (decodeURIComponent(item.id) === decodedItemId) {\n            this.$store.commit('setCurrentItem', item);\n          }\n        });\n      });\n    }\n  },\n  mounted() {\n    this.getListing();\n\n    // const cleanPath = this.path.map((item) => {\n    //   const decodedItem = decodeURIComponent(decodeURIComponent(item));\n    //   return encodeURIComponent(decodedItem);\n    // });\n\n    // if (this.itemId) {\n    //   const folderPath = `/${cleanPath.join('/')}`;\n    //   window.history.pushState({}, null, folderPath);\n    //   console.log(window.history);\n    // }\n  },\n  watch: {\n    // currentItem(newValue) {\n    //   if (!newValue) {\n    //     const cleanPath = this.path.map((item) => {\n    //       const decodedItem = decodeURIComponent(decodeURIComponent(item));\n    //       return encodeURIComponent(decodedItem);\n    //     });\n    //     const folderPath = `/${cleanPath.join('/')}`;\n    //     window.history.replaceState({}, null, folderPath);\n    //   }\n    // },\n\n    path() {\n      this.listing = [];\n      this.getListing();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.filter {\n  color: lightgray;\n  display: flex;\n}\n.filteritem {\n  display: flex;\n  label {\n    margin: auto 1em;\n  }\n}\n\n.wrapper,\n.listing,\nul,\nli {\n  list-style: none;\n  user-select: none;\n  padding-bottom: 0.5em;\n}\n\nli a {\n  color: lightgray;\n}\n.hist {\n  color: white;\n}\n</style>>\n","<template>\n  <div class=\"wrapper\">\n    <ul class=\"gallery\">\n      <li :ref=\"item.id\" class=\"gallery-panel\" v-for=\"(item, index) in media\" :key=\"item.path\">\n        <template v-if=\"!itemId\">\n          <transition name=\"fade\" appear>\n            <div class=\"image-wrapper\" v-show=\"loadedImages[item.id]\">\n              <img\n                @click=\"showInOverlay(index)\"\n                :src=\"item.thumb\"\n                v-loaded-if-complete=\"loadedImages[item.id]\"\n                @load=\"loadedImages[item.id] = true\"\n              />\n              <i\n                @click=\"showInOverlay(index)\"\n                v-if=\"item.type === 'video' && item.hasThumb\"\n                class=\"indicator pi pi-chevron-circle-right\"\n              ></i>\n              <DeleteItem :item=\"item\" :keyHandler=\"false\" />\n              <NefItem :item=\"item\" :keyHandler=\"false\" />\n            </div>\n          </transition>\n        </template>\n      </li>\n    </ul>\n    <Overlay\n      v-if=\"showOverlay\"\n      :item=\"currentItem\"\n      v-on:close=\"closeOverlay()\"\n      v-on:previous=\"showPrevious()\"\n      v-on:next=\"showNext()\"\n    />\n    <ScrollTop :threshold=\"400\" v-if=\"!showOverlay\" />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport Overlay from './Overlay.vue';\nimport DeleteItem from './DeleteItem.vue';\nimport NefItem from './NefItem.vue';\n\nexport default {\n  name: 'Gallery',\n\n  components: { Overlay, DeleteItem, NefItem },\n\n  props: {\n    media: {\n      required: true,\n      type: Array,\n    },\n    itemId: {\n      required: false,\n      type: String,\n    },\n  },\n  data() {\n    return {\n      showOverlay: false,\n      currentIndex: 0,\n      lastItemSelected: null,\n      loadedImages: {},\n    };\n  },\n  computed: {\n    ...mapGetters(['currentItem', 'getItemsToDelete']),\n  },\n  watch: {\n    media(newValue) {\n      newValue.forEach((element) => {\n        if (element.type === 'image') {\n          this.loadedImages[element.id] = false;\n        }\n      });\n    },\n    currentItem(newValue) {\n      if (newValue) {\n        this.showOverlay = true;\n        this.lastItemSelected = newValue;\n      } else {\n        this.showOverlay = false;\n        if (this.lastItemSelected) {\n          const ref = this.$refs[this.lastItemSelected.id];\n          if (ref) {\n            // await nextTick();\n            window.setTimeout(() => {\n              ref.scrollIntoView();\n            }, 1);\n          }\n        }\n      }\n    },\n  },\n  methods: {\n    loadImage(item) {\n      console.log('loaded: loadImage');\n      this.loadedImages[item.id] = true;\n    },\n    showPrevious() {\n      this.currentIndex = this.currentIndex === 0 ? this.media.length - 1 : this.currentIndex - 1;\n      this.$store.commit('setCurrentItem', this.media[this.currentIndex]);\n    },\n    showNext() {\n      this.currentIndex = this.currentIndex === this.media.length - 1 ? 0 : this.currentIndex + 1;\n      this.$store.commit('setCurrentItem', this.media[this.currentIndex]);\n    },\n\n    showInOverlay(index) {\n      this.currentIndex = index;\n      this.$store.commit('setCurrentItem', this.media[this.currentIndex]);\n    },\n    closeOverlay() {\n      // const folderPath = `/${this.currentItem.folderUri}`;\n      // console.log(folderPath);\n      // window.history.replaceState({}, null, folderPath);\n      // this.$store.commit('setCurrentItem', null);\n      this.$router.go(-1);\n    },\n  },\n  mounted() {\n    this.currentIndex = 0;\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.image-wrapper {\n  transition-duration: 0.5s;\n}\n\n.gallery-panel {\n  position: relative;\n}\n\n.delete-item {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n.nef-item {\n  position: absolute;\n  top: 3em;\n  right: 0;\n}\n\n.wrapper {\n  user-select: none;\n}\n\nul {\n  user-select: none;\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  user-select: none;\n  height: 40vh;\n  flex-grow: 0;\n  // flex-grow: 1;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  .indicator {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    color: white;\n    font-size: 3rem;    \n  }\n}\n\nimg {\n  user-select: none;\n  max-height: 100%;\n  min-width: 100%;\n  object-fit: cover;\n  vertical-align: bottom;\n  padding: 0.1rem;\n}\n\n// ADVANCED\n\n// Portrait\n\n@media (max-aspect-ratio: 1/1) {\n  li {\n    height: 20vh;\n  }\n}\n\n// Short screens\n\n@media (max-height: 480px) {\n  li {\n    height: 80vh;\n  }\n}\n\n// Smaller screens in portrait\n\n@media (max-aspect-ratio: 1/1) and (max-width: 480px) {\n  ul {\n    flex-direction: row;\n  }\n\n  li {\n    height: auto;\n    width: 100%;\n  }\n  img {\n    width: 100%;\n    max-height: 75vh;\n    min-width: 0;\n  }\n}\n</style>","<template>\n  <div v-if=\"item\" ref=\"lightbox\" class=\"lightbox\" @click.self=\"closeLightbox()\" tabindex=\"0\">\n    <img v-if=\"item.type === 'image'\" :src=\"item.src\" />\n    <video ref=\"video\" controls autoplay v-if=\"item.type === 'video'\">\n      <source\n        v-for=\"(src, index) of item.sources\"\n        :src=\"src.src\"\n        :type=\"src.type\"\n        :key=\"`${item.id}-${index}`\"\n      />\n      Your browser does not support the video tag.\n    </video>\n    <div class=\"arrow\" id=\"left-arrow\" v-on:click=\"previous\">\n      <i class=\"pi pi-arrow-circle-left\" style=\"font-size: 3em\"></i>\n    </div>\n    <div class=\"arrow\" id=\"right-arrow\" v-on:click=\"next\">\n      <i class=\"pi pi-arrow-circle-right\" style=\"font-size: 3em\"></i>\n    </div>\n    <DeleteItem :item=\"item\" :keyHandler=\"true\" />\n    <NefItem :item=\"item\" :keyHandler=\"true\" />\n  </div>\n</template>\n\n<script>\nimport DeleteItem from './DeleteItem.vue';\nimport NefItem from './NefItem.vue';\n\nexport default {\n  name: 'Overlay',\n  components: { DeleteItem, NefItem },\n\n  emits: ['close', 'previous', 'next'],\n  props: {\n    item: {\n      required: true,\n    },\n  },\n  data() {\n    return {\n      startTouch: null,\n    };\n  },\n  methods: {\n    closeLightbox() {\n      this.$emit('close');\n    },\n    previous() {\n      this.$emit('previous');\n    },\n    next() {\n      this.$emit('next');\n    },\n    handleKeydown(event) {\n      if (event.keyCode === 37) {\n        // arrow left\n        this.previous();\n      }\n      if (event.keyCode === 39) {\n        this.next();\n      }\n      if (event.keyCode === 27) {\n        // escape button\n        this.closeLightbox();\n      }\n    },\n    fixRoute() {\n      const { folderUri } = this.item;\n      const newPath = `/${folderUri}/!${encodeURIComponent(this.item.id)}`;\n      // window.history.pushState({}, null, newPath);\n      window.history.pushState(window.history.state, '', newPath);\n      // this.$route.next({path: newPath, replace: true});\n    },\n    handleTouchStart(event) {\n      // note: don't mess with the 2 finger event to allow zooming in\n      if (event.touches.length === 1) {\n        // just one finger touched\n        this.startTouch = event.touches.item(0).clientX;\n      } else if (event.touches.length === 3) {\n        // 3 fingers hit the screen, abort the touch\n        this.startTouch = null;\n        this.$emit('close');\n      }\n    },\n    handleTouchEnd(event) {\n      const offset = 100; // at least 100px are a swipe\n      if (this.startTouch) {\n        // the only finger that hit the screen left it\n        const end = event.changedTouches.item(0).clientX;\n\n        if (end > this.startTouch + offset) {\n          // a left -> right swipe\n          this.$emit('previous');\n        }\n        if (end < this.startTouch - offset) {\n          // a right -> left swipe\n          this.$emit('next');\n        }\n      }\n    },\n  },\n  watch: {\n    item() {\n      this.fixRoute();\n      const { video } = this.$refs;\n      if (video) {\n        video.load();\n      }\n\n      let mediaUrl = this.item.src;\n      let mediaType = 'image/jpeg';\n\n      if (this.item.type === 'video') {\n        const { sources } = this.item;\n        const [contentItem] = sources;\n        mediaUrl = contentItem.src;\n        mediaType = 'video/mp4';\n      }\n\n      console.log(`src: ${mediaUrl}`);\n      console.log(`type: ${mediaType}`);\n\n      const castSession = window.cast.framework.CastContext.getInstance().getCurrentSession();\n      const mediaInfo = new window.chrome.cast.media.MediaInfo(mediaUrl, mediaType);\n      const request = new window.chrome.cast.media.LoadRequest(mediaInfo, {\n        credentials: 'LALALALA',\n      });\n      request.credentials = \"MOIIIEEEE\";\n      castSession.loadMedia(request).then(\n        () => {\n          console.log('Load succeed');\n        },\n        (errorCode) => {\n          console.log(`Error code: ${errorCode}`);\n        },\n      );\n    },\n  },\n  mounted() {\n    document.addEventListener('keydown', this.handleKeydown);\n    document.body.classList.add('modal-open');\n    this.fixRoute();\n\n    const { lightbox } = this.$refs;\n    lightbox.addEventListener('touchstart', this.handleTouchStart);\n    lightbox.addEventListener('touchend', this.handleTouchEnd);\n  },\n  unmounted() {\n    document.removeEventListener('keydown', this.handleKeydown);\n    const { lightbox } = this.$refs;\n    if (lightbox) {\n      lightbox.removeEventListener('touchstart', this.handleSwipe);\n      lightbox.removeEventListener('touchend', this.handleTouchEnd);\n    }\n    document.body.classList.remove('modal-open');\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.delete-item {\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  right: 0;\n}\n\n.nef-item {\n  position: fixed;\n  z-index: 1000;\n  top: 3em;\n  right: 0;\n}\n\n*:focus {\n  outline: none;\n}\n\nimg,\nvideo {\n  user-select: none;\n}\n\nvideo {\n  z-index: 999;\n}\n\n.lightbox {\n  user-select: none;\n  z-index: 999;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 1);\n\n  img,\n  video {\n    max-width: 100%;\n    max-height: 100%;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n    overflow: auto;\n    position: fixed;\n    right: 0;\n    top: 0;\n    -o-object-fit: contain;\n    object-fit: contain;\n  }\n\n  .arrow {\n    width: 35%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    opacity: 0;\n\n    @media (hover: hover) and (pointer: fine) {\n      &:hover {\n        cursor: pointer;\n        opacity: 0.5;\n      }\n    }\n\n    &:active {\n      cursor: pointer;\n      opacity: 0.5;\n    }\n\n    i {\n      top: 40%;\n      position: absolute;\n      color: white;\n    }\n\n    &#left-arrow {\n      left: 0;\n      i {\n        left: 20px;\n      }\n    }\n\n    &#right-arrow {\n      right: 0;\n      i {\n        right: 20px;\n      }\n    }\n  }\n}\n</style>","<template>\n  <div class=\"delete-item\" v-if=\"item && isAdmin && showFileOperations\">\n    <ToggleButton\n      v-model=\"deleteItem\"\n      onIcon=\"pi pi-trash\"\n      offIcon=\"pi pi-trash\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'DeleteItem',\n  // emits: ['delete'],\n  props: {\n    item: {\n      required: true,\n    },\n    keyHandler: {\n      required: true,\n      type: Boolean,\n    },\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapGetters(['getItemsToDelete', 'showFileOperations', 'isAdmin']),\n\n    deleteItem: {\n      get() {\n        return this.item.path in this.getItemsToDelete;\n      },\n      set(value) {\n        if (value) {\n          this.$store.commit('addItemToDelete', this.item);\n        } else {\n          this.$store.commit('removeItemToDelete', this.item);\n        }\n      },\n    },\n  },\n  methods: {\n    handleKeydown(event) {\n      if (event.keyCode === 68) {\n        // d button\n        this.deleteItem = !this.deleteItem;\n      }\n    },\n  },\n  watch: {},\n  mounted() {\n    if (this.keyHandler) {\n      document.addEventListener('keydown', this.handleKeydown);\n    }\n  },\n  unmounted() {\n    if (this.keyHandler) {\n      document.removeEventListener('keydown', this.handleKeydown);\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.p-button:focus {\n  box-shadow: none;\n}\n</style>","import { render } from \"./DeleteItem.vue?vue&type=template&id=542254d4&scoped=true\"\nimport script from \"./DeleteItem.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteItem.vue?vue&type=script&lang=js\"\n\nimport \"./DeleteItem.vue?vue&type=style&index=0&id=542254d4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-542254d4\"\n\nexport default script","<template>\n  <div\n    class=\"nef-item\"\n    v-if=\"item && isAdmin && item.nef && showFileOperations\"\n  >\n    <ToggleButton v-model=\"deleteItem\" onIcon=\"pi pi-eye\" offIcon=\"pi pi-eye-slash\" />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'NefItem',\n  props: {\n    item: {\n      required: true,\n    },\n    keyHandler: {\n      required: true,\n      type: Boolean,\n    },\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapGetters(['getNefItemsToDelete', 'showFileOperations', 'isAdmin']),\n\n    deleteItem: {\n      get() {\n        return !(this.item.path in this.getNefItemsToDelete);\n      },\n      set(value) {\n        if (!value) {\n          this.$store.commit('addNefItemToDelete', this.item);\n        } else {\n          this.$store.commit('removeNefItemToDelete', this.item);\n        }\n      },\n    },\n  },\n  methods: {\n    handleKeydown(event) {\n      if (event.keyCode === 78) {\n        // n button\n        this.deleteItem = !this.deleteItem;\n      }\n    },\n  },\n  watch: {},\n  mounted() {\n    if (this.keyHandler) {\n      document.addEventListener('keydown', this.handleKeydown);\n    }\n  },\n  unmounted() {\n    if (this.keyHandler) {\n      document.removeEventListener('keydown', this.handleKeydown);\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.p-button:focus {\n  box-shadow: none;\n}\n</style>","import { render } from \"./NefItem.vue?vue&type=template&id=a471c4ee&scoped=true\"\nimport script from \"./NefItem.vue?vue&type=script&lang=js\"\nexport * from \"./NefItem.vue?vue&type=script&lang=js\"\n\nimport \"./NefItem.vue?vue&type=style&index=0&id=a471c4ee&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-a471c4ee\"\n\nexport default script","import { render } from \"./Overlay.vue?vue&type=template&id=1a7a2f38&scoped=true\"\nimport script from \"./Overlay.vue?vue&type=script&lang=js\"\nexport * from \"./Overlay.vue?vue&type=script&lang=js\"\n\nimport \"./Overlay.vue?vue&type=style&index=0&id=1a7a2f38&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1a7a2f38\"\n\nexport default script","import { render } from \"./Gallery.vue?vue&type=template&id=282a8fdc&scoped=true\"\nimport script from \"./Gallery.vue?vue&type=script&lang=js\"\nexport * from \"./Gallery.vue?vue&type=script&lang=js\"\n\nimport \"./Gallery.vue?vue&type=style&index=0&id=282a8fdc&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-282a8fdc\"\n\nexport default script","import { render } from \"./FolderNavigator.vue?vue&type=template&id=5e7bfd6c&scoped=true\"\nimport script from \"./FolderNavigator.vue?vue&type=script&lang=js\"\nexport * from \"./FolderNavigator.vue?vue&type=script&lang=js\"\n\nimport \"./FolderNavigator.vue?vue&type=style&index=0&id=5e7bfd6c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5e7bfd6c\"\n\nexport default script","import { render } from \"./Main.vue?vue&type=template&id=1facd59a&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=1facd59a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1facd59a\"\n\nexport default script","<template>\n  <div>\n    <Breadcrumb :home=\"home\" :model=\"breadcrumbs\" />\n    <Card>\n      <template #title>Admin</template>\n      <template #content>\n        <ToggleButton\n          v-model=\"showFileOperations\"\n          onLabel=\"Toon bestandsoperaties\"\n          offLabel=\"Geen bestandsoperaties\"\n          onIcon=\"pi pi-check\"\n          offIcon=\"pi pi-times\"\n        />\n\n        <div class=\"p-mt-5\" v-if=\"hasItemsToDelete()\">\n          <Button\n            label=\"Verwijder geselecteerde items\"\n            class=\"p-button-danger p-mr-1\"\n            @click=\"removeSelected\"\n          />\n          <Button label=\"Maak selectie leeg\" class=\"p-button-warning\" @click=\"clearSelection\" />\n\n          <div v-if=\"hasItemsToDelete()\">\n            <h2>Te verwijderen bestanden</h2>\n            <div v-for=\"(sub, p) of getItemsByFolder\" :key=\"p\">\n              <h3>{{ sub[0].folderPath.join('/') }}</h3>\n              <ul class=\"p-d-flex p-flex-wrap\">\n                <li class=\"img-wrapper p-col-6 p-md-4 p-lg-2\" v-for=\"item of sub\" :key=\"item.src\">\n                  <img class=\"img-preview\" @click=\"showInOverlay(index)\" :src=\"item.thumb\" />\n                  <DeleteItem :item=\"item\" :keyHandler=\"false\" />\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"p-mt-5\" v-if=\"hasNefItemsToDelete()\">\n          <Button\n            label=\"Verwijder geselecteerde NEF items\"\n            class=\"p-button-danger p-mr-1\"\n            @click=\"removeSelectedNef\"\n          />\n          <Button label=\"Maak selectie leeg\" class=\"p-button-warning\" @click=\"clearNefSelection\" />\n\n          <div v-if=\"hasNefItemsToDelete()\">\n            <h2>Te verwijderen NEF bestanden</h2>\n            <div v-for=\"(sub, p) of getNefItemsByFolder\" :key=\"p\">\n              <h3>{{ sub[0].folderPath.join('/') }}</h3>\n              <ul class=\"p-d-flex p-flex-wrap\">\n                <li class=\"img-wrapper p-col-6 p-md-4 p-lg-2\" v-for=\"item of sub\" :key=\"item.src\">\n                  <img class=\"img-preview\" @click=\"showInOverlay(index)\" :src=\"item.thumb\" />\n                  <NefItem :item=\"item\" :keyHandler=\"false\" />\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Card>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport DeleteItem from '@/components/DeleteItem.vue';\nimport NefItem from '@/components/NefItem.vue';\n\nexport default {\n  name: 'Admin',\n  data() {\n    return {\n      home: { icon: 'pi pi-home', to: '/' },\n      breadcrumbs: [],\n    };\n  },\n\n  components: { DeleteItem, NefItem },\n  watch: {},\n  methods: {\n    hasItemsToDelete() {\n      return Object.keys(this.getItemsToDelete).length > 0;      \n    },\n    hasNefItemsToDelete() {\n      return Object.keys(this.getNefItemsToDelete).length > 0;\n    },\n\n    clearSelection() {\n      this.$store.commit('clearItemsToDelete');\n    },\n    clearNefSelection() {\n      this.$store.commit('clearNefItemsToDelete');\n    },\n    removeSelectedNef() {\n      // eslint-disable-next-line no-alert\n      alert('todo');\n    },\n    removeSelected() {\n      this.$store.dispatch('REMOVE_ITEMS').then(\n        () => {\n          this.$toast.add({\n            severity: 'info',\n            summary: 'Bestanden verwijderd',\n            detail: `Bestanden zijn verwijderd`,\n          });\n        },\n        (error) => {\n          this.$toast.add({\n            severity: 'warn',\n            summary: 'Fout bij verwijderen bestanden',\n            detail: error.message,\n          });\n        },\n      );\n    },\n  },\n  computed: {\n    ...mapGetters(['getItemsToDelete', 'getNefItemsToDelete']),\n\n    getItemsByFolder() {\n      const items = {};\n\n      const values = Object.values(this.getItemsToDelete);\n\n      values.forEach((item) => {\n        const sub = items[item.folderUri] || [];\n        sub.push(item);\n        items[item.folderUri] = sub;\n      });\n\n      return items;\n    },\n\n    getNefItemsByFolder() {\n      const items = {};\n\n      const values = Object.values(this.getNefItemsToDelete);\n\n      values.forEach((item) => {\n        const sub = items[item.folderUri] || [];\n        sub.push(item);\n        items[item.folderUri] = sub;\n      });\n\n      return items;\n    },\n\n    showFileOperations: {\n      get() {\n        return this.$store.getters.showFileOperations;\n      },\n      set(value) {\n        this.$store.commit('setShowFileOperations', value);\n      },\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.img-wrapper {\n  position: relative;\n}\n.delete-item {\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin-right: 1em;\n  margin-top: 1em;\n}\n\n.nef-item {\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin-right: 1em;\n  margin-top: 1em;\n}\n\n.img-preview {\n  width: 100%;\n}\n\nli {\n  list-style: none;\n}\n</style>","import { render } from \"./Admin.vue?vue&type=template&id=1271f68a&scoped=true\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport \"./Admin.vue?vue&type=style&index=0&id=1271f68a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1271f68a\"\n\nexport default script","<template>\n  <div>\n    <Breadcrumb v-if=\"isAuthenticated\" :home=\"home\" :model=\"breadcrumbs\" />\n    <LoginComponent />\n  </div>\n</template>\n\n<script>\nimport LoginComponent from '@/components/LoginComponent.vue';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Home',\n  props: {\n    nextUrl: {\n      required: false,\n      type: String,\n    },\n  },\n  data() {\n    return {\n      home: { icon: 'pi pi-home', to: '/' },\n      breadcrumbs: [],\n    };\n  },\n\n  components: { LoginComponent },\n  computed: {\n    ...mapGetters(['isAuthenticated']),\n  },\n  watch: {\n    isAuthenticated(newValue) {\n      if (newValue) {\n        const url = this.nextUrl || '/';\n        this.$router.push(url);\n      }\n    }\n  }\n};\n</script>","<template>\n  <div>\n    <Card v-if=\"isAuthenticated\">\n      <template #title>Al ingelogd</template>\n      <template #content>\n        <div class=\"p-mb-2\">Je bent al ingelogd als {{ userId }}</div>\n        <div><Button @click=\"logout\" label=\"Log uit\"></Button></div>\n      </template>\n    </Card>\n\n    <Card v-if=\"!isAuthenticated\">\n      <template #title>Login</template>\n      <template #subtitle> Je moet inloggen om de inhoud van deze website te kunnen zien </template>\n      <template #content>\n        <div class=\"p-fluid\">\n          <form novalidate @submit.prevent=\"formSubmit\">\n            <div class=\"p-formgroup-inline\">\n              <div class=\"p-field\">\n                <label for=\"email\" class=\"p-sr-only\">E mail</label>\n                <InputText\n                  id=\"email\"\n                  placeholder=\"E mail\"\n                  :disabled=\"sending\"\n                  autocomplete=\"email\"\n                  v-model=\"form.email\"\n                  :class=\"{ 'p-invalid': isFieldValid('email') }\"\n                />\n                <span class=\"p-error\" v-if=\"$v.form.email.required.$invalid\"\n                  >E-mail is vereist</span\n                >\n                <span class=\"p-error\" v-else-if=\"$v.form.email.email.$invalid\"\n                  >Onjuist e-mail formaat</span\n                >\n              </div>\n\n              <div class=\"p-field\">\n                <label for=\"password\" class=\"p-sr-only\">Wachtwoord</label>\n                <InputText\n                  id=\"password\"\n                  placeholder=\"Wachtwoord\"\n                  type=\"password\"\n                  :disabled=\"sending\"\n                  autocomplete=\"password\"\n                  v-model=\"form.password\"\n                  :class=\"{ 'p-invalid': isFieldValid('password') }\"\n                />\n                <span class=\"p-error\" v-if=\"$v.form.email.required.$invalid\"\n                  >Wachtwoord is vereist</span\n                >\n              </div>\n\n              <ProgressSpinner v-if=\"sending\" />\n\n              <Button\n                :disabled=\"sending\"\n                type=\"submit\"\n                label=\"Login\"\n                icon=\"pi pi-angle-right\"\n                iconPos=\"right\"\n              />\n            </div>\n          </form>\n        </div>\n      </template>\n    </Card>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex';\n// import { validationMixin } from 'vuelidate';\nimport { required, email } from 'vuelidate/lib/validators';\n\nexport default {\n  name: 'LoginComponent',\n  // mixins: [validationMixin],\n\n  data: () => ({\n    form: {\n      email: null,\n      password: null,\n    },\n    sending: false,\n    errors: [],\n    showSnackbar: false,\n    snackbarMsg: '',\n    loginFailed: false,\n  }),\n\n  validations: {\n    form: {\n      email: {\n        required,\n        email,\n      },\n      password: {\n        required,\n      },\n    },\n  },\n\n  computed: {\n    ...mapState(['user']),\n    ...mapGetters(['userId', 'isAuthenticated']),\n  },\n  methods: {\n    logout() {\n      this.$store.dispatch('AUTH_LOGOUT');\n    },\n    isFieldValid(fieldName) {\n      const field = this.$v.form[fieldName];\n\n      if ((field.$invalid && field.$dirty) || this.loginFailed === true) {\n        return false;\n      }\n\n      return true;\n    },\n    clearForm() {\n      this.$v.$reset();\n      this.form.email = null;\n      this.form.password = null;\n    },\n    formSubmit() {\n      this.$v.$touch();\n\n      if (!this.$v.$invalid) {\n        this.loginUser();\n      }\n    },\n\n    loginUser() {\n      const payload = { email: this.form.email, password: this.form.password };\n      this.$store.dispatch('AUTH_REQUEST', payload).then(\n        () => {\n          this.$toast.add({\n            severity: 'info',\n            summary: 'Logged in',\n            detail: `Logged in as ${this.userId}`,\n          });\n          this.loginFailed = false;\n        },\n        () => {\n          this.$toast.add({\n            severity: 'warn',\n            summary: 'Login failed',\n            detail: 'Cannot login with this email / password combination',\n          });\n          this.loginFailed = true;\n        },\n      );\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import { render } from \"./LoginComponent.vue?vue&type=template&id=eb65223a&scoped=true\"\nimport script from \"./LoginComponent.vue?vue&type=script&lang=js\"\nexport * from \"./LoginComponent.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-eb65223a\"\n\nexport default script","import { render } from \"./Login.vue?vue&type=template&id=47f7d5fa\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createWebHistory, createRouter } from 'vue-router';\nimport Main from '@/views/Main.vue';\nimport Admin from '@/views/Admin.vue';\nimport store from './store';\nimport Login from './views/Login.vue';\n\n// https://stackoverflow.com/a/52721706\nwindow.popStateDetected = false;\nwindow.addEventListener('popstate', () => {\n  window.popStateDetected = true;\n});\n\nconst routes = [\n  {\n    path: '/:path*/!:itemId?',\n    name: 'MainDetail',\n    props: true,\n    component: Main,\n    meta: {\n      requiresAuth: true,\n    },\n  },\n  {\n    path: '/:path*',\n    name: 'Main',\n    props: true,\n    component: Main,\n    meta: {\n      requiresAuth: true,\n    },\n  },\n  {\n    path: '/@login/:nextUrl?',\n    name: 'Login',\n    props: true,\n    component: Login,\n    meta: {\n      requiresAuth: false,\n    },\n  },\n  {\n    path: '/@admin',\n    name: 'Admin',\n    props: false,\n    component: Admin,\n    meta: {\n      requiresAuth: true,\n      requiresAccess: 'admin',\n    },\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  const IsItABackButton = window.popStateDetected;\n  window.popStateDetected = false;\n\n  // check if we're in a overlay. If we are, just close it\n  const { currentItem } = store.getters;\n  if (IsItABackButton && currentItem && currentItem.folderPath) {\n    // const folderPath = `/${currentItem.folderUri}`;\n    store.commit('setCurrentItem', null);\n    // console.log(folderPath);\n    // window.history.pushState({}, null, folderPath);\n    // next(false);\n    // return;\n  }\n\n  if (IsItABackButton) {\n    // console.log(to.fullPath);\n\n    if (currentItem && currentItem.folderPath) {\n      // console.log(`back to folder: ${currentItem.folderUri}`);\n      next({ path: `/${currentItem.folderUri}`, replace: true });\n      window.history.replaceState(window.history.state, '', `/${currentItem.folderUri}`);\n      return;\n    }\n\n    // traverse up the path\n    let newPath = `${from.fullPath\n      .split('/')\n      .slice(0, -1)\n      .join('/')}`;\n    if (newPath === '') {\n      newPath = '/';\n    }\n    // console.log(newPath);\n    next({ path: newPath, replace: true });\n    return;\n  }\n\n  const requiresAccess = to.matched\n    .filter(record => record.meta.requiresAccess)\n    .map(record => record.meta.requiresAccess);\n  const requiresAuth = requiresAccess.length || to.matched.some(record => record.meta.requiresAuth);\n\n  if (requiresAuth || requiresAccess.length) {\n    store.dispatch('initialiseStore').then(() => {\n      const { role } = store.getters;\n      const correctAccess = !requiresAccess.length || requiresAccess.includes(role);\n      const { isLoggedIn } = store.getters;\n      if (!isLoggedIn || !correctAccess) {\n        next({ name: 'Login', params: { nextUrl: to.fullPath }, replace: true });\n      } else {\n        next();\n      }\n    });\n  } else {\n    next();\n  }\n\n  // return true;\n});\n\nexport default router;\n","<template>\n  <div id=\"gnize-pictures\">\n    <Toast />\n    <div ref=\"cast-button\"></div>\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'App',\n\n  data() {\n    return {\n      rootPath: '/',\n    };\n  },\n  components: {},\n  computed: {\n    ...mapGetters(['isLoggedIn']),\n  },\n\n  mounted() {\n    const castScript = document.createElement('script');\n    castScript.setAttribute(\n      'src',\n      'https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1',\n    );\n    document.head.appendChild(castScript);\n  },\n\n  created() {\n    window.__onGCastApiAvailable = (isAvailable) => {\n      if (isAvailable) {\n        this.initializeCastApi();\n      }\n    };\n\n    this.$http.interceptors.response.use(\n      undefined,\n      (err) =>\n        new Promise(() => {\n          /* eslint no-underscore-dangle: 0 */\n          if (\n            // err.response &&\n            err.response.status === 401 &&\n            err.config &&\n            !err.config.__isRetryRequest\n          ) {\n            this.$store.dispatch('AUTH_LOGOUT');\n          }\n          throw err;\n        }),\n    );\n  },\n  methods: {\n    initializeCastApi() {\n      const ctx = window.cast.framework.CastContext.getInstance().setOptions({\n        receiverApplicationId: process.env.VUE_APP_CAST_APP_ID,\n        autoJoinPolicy: window.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,\n      });\n      const btn = document.createElement('google-cast-launcher');\n      this.$refs['cast-button'].appendChild(btn);\n      console.log(ctx);\n    },\n    greet() {\n      this.$toast.add({\n        severity: 'info',\n        summary: 'Hello',\n        detail: this.text,\n      });\n    },\n  },\n};\n</script>\n\n<style>\nbody.modal-open {\n  overflow: hidden;\n}\n\nbody {\n  background-color: rgba(0, 0, 0, 1);\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n.app-container {\n  text-align: center;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=01ddd047\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=01ddd047&lang=css\"\nscript.render = render\n\nexport default script","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import { createApp } from 'vue';\n\nimport PrimeVue from 'primevue/config';\nimport Button from 'primevue/button';\nimport InputText from 'primevue/inputtext';\nimport Breadcrumb from 'primevue/breadcrumb';\nimport InputSwitch from 'primevue/inputswitch';\nimport ProgressSpinner from 'primevue/progressspinner';\n// import Chip from 'primevue/chips';\nimport Chip from 'primevue/components/chip/chip.common';\nimport Card from 'primevue/card';\nimport ToggleButton from 'primevue/togglebutton';\nimport ScrollTop from 'primevue/components/scrolltop/scrolltop.common';\nimport Sidebar from 'primevue/sidebar';\n\nimport Toast from 'primevue/toast';\nimport ToastService from 'primevue/toastservice';\nimport { VuelidatePlugin } from '@vuelidate/core';\n\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\n\nimport store from './store';\nimport router from './router';\nimport App from './App.vue';\n\nimport 'primevue/resources/themes/nova-vue/theme.css';\nimport 'primevue/resources/primevue.min.css'; // core css\nimport 'primeicons/primeicons.css'; // icons\n\nimport 'primeflex/primeflex.css';\nimport './registerServiceWorker';\n\nconst app = createApp(App);\n\napp.use(VueAxios, axios);\napp.use(store);\napp.use(router);\napp.use(PrimeVue);\napp.use(ToastService);\napp.use(VuelidatePlugin);\n\napp.component('Toast', Toast);\napp.component('InputText', InputText);\napp.component('Button', Button);\napp.component('Breadcrumb', Breadcrumb);\napp.component('InputSwitch', InputSwitch);\napp.component('ProgressSpinner', ProgressSpinner);\napp.component('Chip', Chip);\napp.component('Card', Card);\napp.component('ToggleButton', ToggleButton);\napp.component('ScrollTop', ScrollTop);\napp.component('Sidebar', Sidebar);\n\n// directive to set loaded flag when image is loaded from cache (complete)\napp.directive('loaded-if-complete', {\n  beforeUpdate(el, binding) {\n    if (el.complete) {\n      // eslint-disable-next-line no-param-reassign\n      binding.value = true;\n    }\n  },\n});\n\napp.mount('#app');\n\nstore.dispatch('initialiseStore');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Overlay.vue?vue&type=style&index=0&id=1a7a2f38&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Main.vue?vue&type=style&index=0&id=1facd59a&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=01ddd047&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DeleteItem.vue?vue&type=style&index=0&id=542254d4&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Gallery.vue?vue&type=style&index=0&id=282a8fdc&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FolderNavigator.vue?vue&type=style&index=0&id=5e7bfd6c&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NefItem.vue?vue&type=style&index=0&id=a471c4ee&lang=scss&scoped=true\""],"sourceRoot":""}